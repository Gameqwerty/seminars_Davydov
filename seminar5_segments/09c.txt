Если попытаться создать массив на 1 ГБ прямо в main (на стеке),
программа почти наверняка упадёт с Segmentation fault.

Дело в том, что стек очень маленький — обычно пара мегабайт.
Компилятор пытается выделить под массив всё место сразу при входе
в функцию, но стека просто не хватает.

Поэтому такие большие массивы на стеке держать нельзя — только
в куче (через malloc) или как глобальные переменные.