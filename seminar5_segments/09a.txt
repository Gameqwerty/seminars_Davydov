Память под глобальный массив (в BSS) выделяется ещё до запуска main —
когда ОС загружает программу. Но на самом деле физическая память
не выделяется сразу. Она появляется только тогда, когда мы реально
обращаемся к какому-то участку массива — например, пишем в data[0]
или data[SIZE-1]. Это называется lazy allocation.

То есть даже если массив на гигабайт, пока мы не трогаем его части —
он почти ничего не весит в RAM. А в цикле с шагом 1000 у нас
выделяются только те страницы памяти, до которых доходит обращение.